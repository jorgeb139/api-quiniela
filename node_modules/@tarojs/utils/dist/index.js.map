{"version":3,"file":"index.js","sources":["../src/shallow-equal.js","../src/simple-map.js","../src/index.js"],"sourcesContent":["/* eslint-disable */\nconst objectIs = Object.is || function (x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y\n  }\n  return x !== x && y !== y\n}\n\nexport default function shallowEqual (obj1, obj2) {\n  if (typeof obj1 !== 'object' && typeof obj2 !== 'object') {\n    return obj1 === obj2\n  }\n\n  if (obj1 === null && obj2 === null) {\n    return true\n  }\n  if (obj1 === null || obj2 === null) {\n    return false\n  }\n  if (objectIs(obj1, obj2)) {\n    return true\n  }\n  const obj1Keys = obj1 ? Object.keys(obj1) : []\n  const obj2Keys = obj2 ? Object.keys(obj2) : []\n  if (obj1Keys.length !== obj2Keys.length) {\n    return false\n  }\n\n  for (let i = 0; i < obj1Keys.length; i++) {\n    const obj1KeyItem = obj1Keys[i]\n    if (!obj2.hasOwnProperty(obj1KeyItem) || !objectIs(obj1[obj1KeyItem], obj2[obj1KeyItem])) {\n      return false\n    }\n  }\n\n  return true\n}\n","export default class SimpleMap {\n  constructor () {\n    this.cache = []\n    this.size = 0\n  }\n\n  set (k, v) {\n    const len = this.cache.length\n    if (!len) {\n      this.cache.push({ k, v })\n      this.size += 1\n      return\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        item.v = v\n        return\n      }\n    }\n    this.cache.push({ k, v })\n    this.size += 1\n  }\n\n  get (k) {\n    const len = this.cache.length\n    if (!len) {\n      return\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        return item.v\n      }\n    }\n  }\n\n  has (k) {\n    const len = this.cache.length\n    if (!len) {\n      return false\n    }\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        return true\n      }\n    }\n    return false\n  }\n\n  delete (k) {\n    const len = this.cache.length\n    for (let i = 0; i < len; i++) {\n      const item = this.cache[i]\n      if (item.k === k) {\n        this.cache.splice(i, 1)\n        this.size -= 1\n        return true\n      }\n    }\n    return false\n  }\n\n  clear () {\n    let len = this.cache.length\n    this.size = 0\n    if (!len) {\n      return\n    }\n    while (len) {\n      this.cache.pop()\n      len--\n    }\n  }\n}\n","import shallowEqual from './shallow-equal'\nimport SimpleMap from './simple-map'\n\nfunction addLeadingSlash (path) {\n  return path.charAt(0) === '/' ? path : '/' + path\n}\n\nfunction getCurrentPageUrl () {\n  const pages = getCurrentPages()\n  const currentPage = pages[pages.length - 1]\n  return addLeadingSlash(currentPage.route || currentPage.__route__)\n}\n\nexport default {\n  shallowEqual,\n  getCurrentPageUrl,\n  SimpleMap\n}\n\nexport {\n  shallowEqual,\n  getCurrentPageUrl,\n  SimpleMap\n}\n"],"names":["objectIs","Object","is","x","y","shallowEqual","obj1","obj2","obj1Keys","keys","obj2Keys","length","i","obj1KeyItem","hasOwnProperty","SimpleMap","cache","size","k","v","len","push","item","splice","pop","addLeadingSlash","path","charAt","getCurrentPageUrl","pages","getCurrentPages","currentPage","route","__route__"],"mappings":"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"}